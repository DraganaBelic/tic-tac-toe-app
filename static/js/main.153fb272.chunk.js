(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),o=a.n(l),s=(a(30),a(31),a(3)),c=a(4),i=a(7),u=a(5),d=a(8),m=a(6);var h=function(e){return r.a.createElement("div",null,r.a.createElement("p",{className:"header"},"Ready to go ?"),r.a.createElement("div",{className:"offset-5 col-2"},r.a.createElement("hr",null)),r.a.createElement("p",null,"When you click begin, we will randomly choose a player to start"),r.a.createElement("button",{onClick:e.begin,className:"beginButton"},"Begin"))},p=a(19),y=a(9);function f(e){var t=e.disabledSquares.indexOf(e.squareIndex)>-1,a="N",n=[];return n.push("squareButton"),1===e.value&&(a="X",n.push("xValue")),0===e.value&&(a="O",n.push("oValue")),r.a.createElement("button",{disabled:t,className:n.join(" "),onClick:e.onSquareClicked},a)}var g="UPDATE_HISTORY",b="ADD_RESULT",v=function(e){return{type:"TOGGLE_NEXT_PLAYER",oIsNext:e}},E=function(e){return{type:"ADD_SELECTED_FIELD",selectedField:e}};function O(e){return{type:g,history:e}}function N(e){return{type:b,result:e}}var S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).renderSquare=function(e){var t=a.props,n=t.oIsNext,l=t.selectedField,o=t.onSquareClicked,s=t.disabledSquares,c=n?"O":"X",i=(l||{})[e];return r.a.createElement(f,{key:e,squareIndex:e,squareValue:c,value:i,onSquareClicked:function(){o(e)},disabledSquares:s})},a.renderBoard=a.renderBoard.bind(Object(y.a)(Object(y.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.updateHistory,r=a.history;this.props!==e&&n(r)}},{key:"renderBoard",value:function(e,t){for(var a=[],n=0,l=0;l<e;l+=1){for(var o=[],s=0;s<t;s+=1)o.push(this.renderSquare(n++));a.push(r.a.createElement("div",{key:l,className:"board-row"},o))}return a}},{key:"render",value:function(){return r.a.createElement("div",{className:"board-all"},r.a.createElement("div",null,this.renderBoard(3,3)))}}]),t}(n.Component),j=Object(m.b)(function(e){return{oIsNext:e.oIsNext,selectedField:e.selectedField}},function(e){return{updateHistory:function(t){return e(O(t))}}})(S),k=a(39),I=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.onUndo,n=[];return t&&t.forEach(function(e,l){return n.push(r.a.createElement("div",{className:"turnsMade row",key:l},r.a.createElement("div",{className:"col-8 pl-0"},"Player ",0===e.player?"O":"X"," chose cell ",e.square+1," "),(l+1===t.length||l+1===t.length-1)&&r.a.createElement("div",{className:"col-4"},r.a.createElement(k.a,{disabled:l+1!==t.length,onClick:function(){return a(e)},className:"undoBtn btn-sm"},"Undo"))))}),r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("p",{className:"historyHeader"},"Turn History"),r.a.createElement("div",{className:"col-lg-8"},n&&n.length>0?r.a.createElement("div",null,n):r.a.createElement("p",{className:"noTurnsMade"},"Currently no turns made")))}}]),t}(n.Component);function x(e){localStorage.setItem("selectedFields",e.selectedFields),localStorage.setItem("history",e.history),localStorage.setItem("oIsNext",e.oIsNext),localStorage.setItem("localStorageObject",JSON.stringify(e))}function q(e){var t=localStorage.getItem("localStorageObject")?JSON.parse(localStorage.getItem("localStorageObject")):{};switch(e){case"oIsNext":return t.oIsNext;case"history":return t.history?JSON.parse(t.history):null;case"selectedFields":return t.selectedFields?JSON.parse(t.selectedFields):null;default:return null}}var w=[[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6],[0,3,6],[1,4,7],[2,5,8]],F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onPlayerMove=function(e){var t=a.props,n=t.oIsNext,r=t.history,l=t.toggleNextPlayer,o=t.updateHistory,s=t.addSelectedFieldToStore,c=[],i=r?Object(p.a)(r):[],u=[],d=[];l(!n),i.push({player:n?1:0,square:e}),o(i),i.map(function(e){1==e.player?u.push(e.square):d.push(e.square),c.push(e.square)});var m=i.reduce(function(e,t){return e[t.square]=t.player,e},{});s(m),a.setState({clicked:!0,disabledSquares:c}),x({history:JSON.stringify(i),oIsNext:!n,selectedFields:JSON.stringify(m)}),a.checkWinner(u,d)},a.onUndo=function(e){var t=a.props,n=t.history,r=t.oIsNext,l=t.toggleNextPlayer,o=t.updateHistory,s=t.addSelectedFieldToStore,c=[],i=n?Object(p.a)(n):[];l(!r),i.splice(n.length-1,1),o(i),i.map(function(e){return c.push(e.square)});var u=i.reduce(function(e,t){return e[t.square]=t.player,e},{});s(u),a.setState({disabledSquares:c}),x({history:JSON.stringify(i),oIsNext:r,selectedFields:JSON.stringify(u)})},a.checkWinner=a.checkWinner.bind(Object(y.a)(Object(y.a)(a))),a.state={clicked:!1,disabledSquares:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.toggleNextPlayer,a=e.updateHistory,n=e.addSelectedFieldToStore;q("oIsNext")&&t(q("oIsNext")),a(q("history")),n(q("selectedFields"))}},{key:"componentWillUnmount",value:function(){localStorage.clear()}},{key:"checkWinner",value:function(e,t){for(var a,n=this.props,r=n.updateHistory,l=n.addResult,o=0;o<w.length;o++)e.includes(w[o][0])&&e.includes(w[o][1])&&e.includes(w[o][2])&&(a={winner:"X",looser:"O"}),t.sort().includes(w[o][0])&&t.sort().includes(w[o][1])&&t.sort().includes(w[o][2])&&(a={winner:"O",looser:"X"});e.length+t.length!=9||a||(a={tie:"It's a tie"}),a&&(r([]),l(a))}},{key:"render",value:function(){var e=this.props,t=e.oIsNext,a=e.history,n=t?"Players X's turn":"Players O's turn";return r.a.createElement("div",null,r.a.createElement("div",{className:"gameHeader"},r.a.createElement("p",null,n)),r.a.createElement("div",{className:"gameBody row"},r.a.createElement("div",{className:"col-md-12 col-lg-7 game-board"},r.a.createElement(j,{onSquareClicked:this.onPlayerMove,history:a,rerender:this.state.clicked,disabledSquares:this.state.disabledSquares})),r.a.createElement("div",{className:"col-md-12 col-lg-5 history-board"},r.a.createElement(I,{history:a,onUndo:this.onUndo}))))}}]),t}(n.Component),P=Object(m.b)(function(e){return{oIsNext:e.oIsNext,history:e.history}},function(e){return{updateHistory:function(t){return e(O(t))},addResult:function(t){return e(N(t))},toggleNextPlayer:function(t){return e(v(t))},addSelectedFieldToStore:function(t){return e(E(t))}}})(F),T=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){localStorage.clear()}},{key:"render",value:function(){var e=this.props,t=e.winner,a=e.tie,l=e.playAgain,o=e.looser;return r.a.createElement("div",null,a?r.a.createElement("p",{className:"header"},a):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"header"},"Player ",t||"???"," wins"),r.a.createElement("p",null,"What a shame Player ",o||"!!!"," looks like you aren't good enough, want to try your luck again ?")),r.a.createElement("div",{className:"offset-5 col-2"},r.a.createElement("hr",null)),r.a.createElement("button",{onClick:l,className:"beginButton"},"Play again"))}}]),t}(n.Component),C=Object(m.b)()(T),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getRandomValue=function(){return Math.random()>.5},a.onBegin=function(){var e=a.props.toggleNextPlayer,t=a.getRandomValue();a.setState({gameStart:!0}),e(t)},a.playAgain=function(){var e=a.props,t=e.addResult,n=e.updateHistory,r=e.addSelectedFieldToStore,l=e.toggleNextPlayer,o=a.getRandomValue();a.setState({gameStart:!0}),t(null),n(null),r(null),l(o)},a.state={gameStart:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.updateHistory)(q("history"))}},{key:"render",value:function(){var e=this.props,t=e.result,a=e.history;return r.a.createElement("div",null,this.state.gameStart||a?t?r.a.createElement(C,{winner:t.winner,tie:t.tie,looser:t.looser,playAgain:this.playAgain}):r.a.createElement(P,null):r.a.createElement(h,{begin:this.onBegin}))}}]),t}(n.Component),D=Object(m.b)(function(e){return{result:e.result,history:e.history}},function(e){return{addResult:function(t){return e(N(t))},updateHistory:function(t){return e(O(t))},addSelectedFieldToStore:function(t){return e(E(t))},toggleNextPlayer:function(t){return e(v(t))}}})(B),H=a(14),R=a(12),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_NEXT_PLAYER":var a=t.oIsNext;return Object(R.a)({},e,{oIsNext:a});case"ADD_SELECTED_FIELD":var n=t.selectedField;return Object(R.a)({},e,{selectedField:n});case g:var r=t.history;return Object(R.a)({},e,{history:r});case b:var l=t.result;return Object(R.a)({},e,{result:l});default:return e}},J=Object(H.b)(A);var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{store:J},r.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(36);o.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.153fb272.chunk.js.map